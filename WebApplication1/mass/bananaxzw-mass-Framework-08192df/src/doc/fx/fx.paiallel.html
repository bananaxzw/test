<!DOCTYPE HTML>
<html>
    <head>
        <title>多个动画一起运行</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <script src="../public/js/mass_merge.js" type="text/javascript" ></script>
        <script src="../public/js/common.js" type="text/javascript" ></script>
        <script src="../public/js/shCore.js" type="text/javascript" ></script>
        <script src="../public/js/shBrushJScript.js" type="text/javascript" ></script>
        <script src="../public/js/shBrushCss.js" type="text/javascript" ></script>
        <script src="../public/js/shBrushXml.js" type="text/javascript" ></script>
        <link type="text/css" rel="stylesheet" href="../public/styles/shCore.css"/>
        <link type="text/css" rel="stylesheet" href="../public/styles/shThemeRDark.css"/>
        <link type="text/css" rel="stylesheet" href="../public/styles/common.css"/>
        <script>
            if (self!=top)
                window.top.location.replace(self.location);
        </script>
        <style>

            .container{
                width:100%;
                height:500px;
                position:relative;
            }
            .container div {
                position: absolute;
                left: 100px;
                top: 20px;
                width:80px;
                height:80px;
                color: white;
                background-color: #a3d1fc;
                border: 10px double skyblue;
            }
        </style>
        <script type="text/javascript">
            SyntaxHighlighter.config.clipboardSwf = '../js/clipboard.swf';
            SyntaxHighlighter.all();
            $.require("ready,node",function(){
                $("#back").prop("href","/src/doc/index.html?iframe_src=fx/$.fn.fx.html")
                var i, iz = 5;
                for (i = 1; i < iz; ++i) {
                    $("<div class='tgt"+i+"' >tgt"+i+"</div>").prependTo(".container")
                }
            });
            var exec1 = function(){
                $.require("ready,fx",function(){
                    var color = [ "#"+((1<<24)*Math.random()|0).toString(16),
                        "#"+((1<<24)*Math.random()|0).toString(16),
                        "#"+((1<<24)*Math.random()|0).toString(16),
                        "#"+((1<<24)*Math.random()|0).toString(16)];
                    $(".tgt1").fx(2000, { x: [400, "linear"],
                        y: 400,
                        w: 200,
                        bgc: "skyblue",
                        o: 0.5,
                        fs: 36,revert:1 });

                    $(".tgt2").css({ o: 0.2 }).
                        fx(1000, { x: ["+=400", "swing"], y: "+=400", o: 1.0, w: 50, h: [50, "linear"] }).
                        fx(1000, { x: ["-=400", "swing"], y: "-=400", o: 0.2, w: 100, h: [100, "linear"] });

                    $(".tgt3").css({ o: 1   }).
                        fx(2000, { x: "+=500", y: "+=500", o: "-=0.9" ,bgc: "rgb(0,255,100)" }).
                        delay(400).fx(2000, { x: "-=500", y: "-=500", o: 0.5 ,w: 300 ,bgc: "rgb(0,0,0)" });

                    $(".tgt4").css({ o: 1.0 }).
                        fx(1000, { x: "+=400", y: "+=230", o: 0.2, w:  10, h: [100, "linear"], bgc: color[0] }).
                        fx(1000, { x: "+=30", y: "-=100", o: 1.0, w:  50, h: [ 10, "linear"], bgc: color[1] }).
                        fx(1000, { x: "-=400", y: "-=30", o: 0.2, w:  10, h: [ 50, "linear"], bgc: color[2] }).
                        fx(1000, { x: "-=20", y: "-=100", o: 1.0, w: 200, h: [200, "linear"], bgc: color[3] });
                });
            }


        </script>

    </head>
    <body>
    <article>
        <h2>动画列队</h2>
        <p>mass实例是对一组元素进行操作，比如一个实例里面拥有3个元素，那么此实例就拥有三个动画列队。
            每调用一次fx方法就会往这些列队中添加一个动画，
            每个动画都只会等前一个动画前执行完才执行，除非调用stop方法或delay方法。 </p>
        <pre class="brush:js;gutter:false;toolbar:true;collapse:true;">
                $.require("ready,fx",function(){
                    var color = [ "#"+((1<<24)*Math.random()|0).toString(16),
                        "#"+((1<<24)*Math.random()|0).toString(16),
                        "#"+((1<<24)*Math.random()|0).toString(16),
                        "#"+((1<<24)*Math.random()|0).toString(16)];
                    $(".tgt1").fx(2000, { x: [400, "linear"],
                        y: 400,
                        w: 200,
                        bgc: "skyblue",
                        o: 0.5,
                        fs: 36,revert:1 });

                    $(".tgt2").css({ o: 0.2 }).
                        fx(1000, { x: ["+=400", "swing"], y: "+=400", o: 1.0, w: 50, h: [50, "linear"] }).
                        fx(1000, { x: ["-=400", "swing"], y: "-=400", o: 0.2, w: 100, h: [100, "linear"] });

                    $(".tgt3").css({ o: 1   }).
                        fx(2000, { x: "+=500", y: "+=500", o: "-=0.9" ,bgc: "rgb(0,255,100)" }).
                        delay(400).fx(2000, { x: "-=500", y: "-=500", o: 0.5 ,w: 300 ,bgc: "rgb(0,0,0)" });

                    $(".tgt4").css({ o: 1.0 }).
                        fx(1000, { x: "+=400", y: "+=230", o: 0.2, w:  10, h: [100, "linear"], bgc: color[0] }).
                        fx(1000, { x: "+=30", y: "-=100", o: 1.0, w:  50, h: [ 10, "linear"], bgc: color[1] }).
                        fx(1000, { x: "-=400", y: "-=30", o: 0.2, w:  10, h: [ 50, "linear"], bgc: color[2] }).
                        fx(1000, { x: "-=20", y: "-=100", o: 1.0, w: 200, h: [200, "linear"], bgc: color[3] });
                });
        </pre>
        <p><input onclick="exec1()" value="点我，执行代码" type="button"/><a href="" id="back">返回</a></p>
        <div class="container"></div>
    </article>
</body>
</html>
