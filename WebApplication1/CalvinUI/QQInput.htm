<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script src="../JsLib/jq1.72.js" type="text/javascript"></script>
    <script src="JS/QQInput.js" type="text/javascript"></script>
    <style type="text/css">
        body
        {
            font: normal 12px Verdana;
        }
        .div_txt
        {
            border: 1px solid #c3c3c3;
            border-top: 1px solid #7c7c7c;
            border-left: 1px solid #9a9a9a;
            background: url(/zh_CN/htmledition/images/newicon/today104472.gif) 0 -162px #fff repeat-x;
            padding: 1px;
            width: auto;
            height: auto;
            _height: 16px;
            min-height: 18px;
            font-family: Tahoma;
        }
        .addr_base
        {
            height: 16px;
            margin: 1px 0px 1px 0px;
            cursor: default;
            color: #a0a0a0;
        }
        .addr_base b
        {
            color: #000;
            font-weight: normal;
        }
        .addr_select, .addr_select span, .addr_select b
        {
            color: #fff;
        }
        .fn_list
        {
            background: #528bcb;
        }
        .addr_text
        {

            border:0px;
            cursor: text;
            display: block;
            float: left;
            height: 16px;
            width: 25px;
        }
        .addr_over
        {
           background:#e0ecf9;  
        }
        .addr_del
        {
            border-collapse: separate;
            color: #1E5494;
            cursor: pointer;
            display: inline;
            font-family: Tahoma;
            font-size: 12px;
            font-style: normal;
            font-variant: normal;
            font-weight: normal;
            height: auto;
            line-height: normal;
            outline-color: #1E5494;
            outline-style: none;
            outline-width: 0px;
            text-decoration: none;
            white-space: nowrap;
            width: 10px;
        }
    </style>
    <script type="text/javascript">

        String.prototype._getLength = function () {
            var str = this;
            var len = str.length;
            var reLen = 0;
            for (var i = 0; i < len; i++) {
                if (str.charCodeAt(i) < 27 || str.charCodeAt(i) > 126) {
                    // 全角    
                    reLen += 2;
                } else {
                    reLen++;
                }
            }
            return reLen;
        };
        $(document).ready(function () {
            $("#Button1").click(function () {

                $("#toAreaCtrl").MailInput("ADD", { name: "许志伟", mail: "bananaxzw@qq.com" });
            });
            $(".cusorPosition").click(function () { alert(1); });

        });

        /**
        * 获取光标所在的字符位置
        * @param obj 要处理的控件, 支持文本域和输入框
        * @author hotleave
        */

        (function ($) {
            $.fn.extend({
                insertAtCaret: function (myValue) {
                    var $t = $(this)[0];
                    if (document.selection) {
                        this.focus();
                        sel = document.selection.createRange();
                        sel.text = myValue;
                        this.focus();
                    }
                    else
                        if ($t.selectionStart || $t.selectionStart == '0') {
                            var startPos = $t.selectionStart;
                            var endPos = $t.selectionEnd;
                            var scrollTop = $t.scrollTop;
                            $t.value = $t.value.substring(0, startPos) + myValue + $t.value.substring(endPos, $t.value.length);
                            this.focus();
                            $t.selectionStart = startPos + myValue.length;
                            $t.selectionEnd = startPos + myValue.length;
                            $t.scrollTop = scrollTop;
                        }
                        else {
                            this.value += myValue;
                            this.focus();
                        }
                }
            })
        })(jQuery);
    
    </script>
</head>
<body>
    <div>
        asfsafsafasfaf</div>
    <input id="Button1" type="button" value="button" />
    <div style="cursor: text;" id="toAreaCtrl" class="noime div_txt">
        <!-- <div style="color: rgb(160, 160, 160); padding-top: 1px; display: none; position: absolute;">
        </div>
       <div style="float: left; white-space: nowrap;" class="addr_base  addr_select fn_list"
            title="263980949@qq.com">
            <b>陈雷</b><span>&lt;263980949<span class="domain">@qq.com</span>&gt;</span> <span
                class="semicolon">;</span><a class="addr_del" href="javascript:;" name="del">
            </a>
        </div>
        <span style="float: left; width: 2px; overflow: hidden;" class="cusorPosition">&nbsp;</span>
        <div style="float: left; white-space: nowrap;" class="addr_base addr_normal" title="466296581@qq.com">
            <b>梁伟</b> <span>&lt;466296581<span class="domain">@qq.com</span>&gt;</span><span
                class="semicolon">;</span> <a class="addr_del" href="javascript:;" name="del">
            </a>
        </div>
        <span style="float: left; width: 2px; overflow: hidden;" class="cusorPosition">&nbsp;</span>-->
        <div style="border: currentColor; width:25px; overflow: hidden; float: left;" class="addr_text">
            <input accesskey="t" style="border: currentColor; width: 100%; -webkit-appearance: none;"
                tabindex="1" type="input" autocomplete="off" ime-mode="disabled">
            <div style="margin: 0px; padding: 0px; border: currentColor; width: 1px; height: 1px;
                line-height: normal; overflow: auto; font-family: Tahoma; font-size: 12px; font-weight: 400;
                word-spacing: normal; white-space: nowrap;">
            </div>
        </div>
        <div style="margin: 0px; padding: 0px; border: currentColor; clear: both;" unselectable="on">
            <input style="padding: 0px; border: currentColor; left: -9999px; top: -9999px; width: 10px;
                position: absolute;" tabindex="-1" type="text">
        </div>
    </div>
</body>
</html>
